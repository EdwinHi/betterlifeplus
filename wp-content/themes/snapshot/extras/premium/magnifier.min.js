/* Received errors from Closure Compiler API:
Error(22): Too many compiles performed recently.  Try again later.
(Using fallback minifier)
*/

jQuery(function($){if($('#magnifier').length==0)return;var currentImage=null;var magSize=$('#magnifier .image').width();magSize=200;$('img.magnify').each(function(){var $$=$(this);$$.mouseover(function(e){currentImage=$$;$('#magnifier').show().css({'top':e.pageY-magSize/2,'left':e.pageX-magSize/2});$('#magnifier .image').css({'background-image':'url('+currentImage.attr('src')+')'});});var $p=$$.parent();var ratio=$p.width()/Number($$.attr('width'));$p.css('height',Math.round(Number($$.attr('height'))*ratio));$$.hide();$('<img />').load(function(){$$.fadeIn();}).attr('src',$$.attr('src'));});$(document).mousemove(function(e){if(currentImage==null)return;var $$=currentImage;if(e.pageX>$$.offset().left&&e.pageX<$$.offset().left+$$.width()&&e.pageY>$$.offset().top&&e.pageY<$$.offset().top+$$.height()){$('#magnifier').css({'top':e.clientY-magSize/2-4,'left':e.clientX-magSize/2});var x=(e.pageX-currentImage.offset().left)/currentImage.width()*currentImage.attr('width');var y=(e.pageY-currentImage.offset().top)/currentImage.height()*currentImage.attr('height');$('#magnifier .image').css('background-position',(-x+magSize/2)+'px '+(-y+magSize/2)+'px');}
else{$('#magnifier').hide();currentImage=null;}});})